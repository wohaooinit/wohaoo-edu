//>>built
require({cache:{"url:edu/wohaoo/mobile/templates/LogoutView.html":'\x3cdiv class\x3d"logoutContainer"\x3e\n\t\x3cdiv id\x3d"logoutDialog" class\x3d"logoutDialog"\x3e\n\t\t\x3cdiv class\x3d"logoutHeaderPane"\x3e\n\t\t\t\x3cspan class\x3d"company-logo center"\x3e${logoText}\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv data-dojo-type\x3d"dojox/mobile/ContentPane" class\x3d"logoutPane mblHidden" data-dojo-attach-point\x3d"logoutPane"\x3e\n\t\t\t\x3cdiv class\x3d"logoutButtonPane"\x3e\n\t\t\t\t\x3cbutton  class\x3d\'logoutButton\'\n\t\t\t\tdata-dojo-type\x3d"dojox/mobile/Button" data-dojo-attach-point\x3d"logoutButton"\x3e${logoutText}\x3c/button\x3e\n\t\t\t\x3c/div\x3e \n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e'}});
define("edu/wohaoo/mobile/LogoutView","dijit/registry dojo/dom-class dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/parser dojo/dom dojo/dom-geometry dojo/dom-construct dojo/request dojo/query!css3 dojo/dom-style dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/LogoutView.html dojo/i18n!./nls/LogoutView edu/wohaoo/mobile/_AppViewMixin dojox/mobile/ScrollableView dojox/mobile/ContentPane dojox/mobile/Button dojox/mobile/TextBox dojo/domReady!".split(" "),
function(e,a,f,r,s,g,t,u,v,w,h,d,x,y,z,k,l,m,n,p,q){return g([q,p,k,l],{templateString:m,logoText:"WOHAOO Education",logoutText:n.logout,delay:100,redirectTo:"",logoutPane:null,logoutButton:null,postCreate:function(){this.inherited(arguments);var c=this;f(this.logoutButton.domNode,"click",function(b){var a=Sys.getUser();c.__doLogout(a);b.stopPropagation();b.preventDefault()})},startup:function(){this.inherited(arguments)},__doLogout:function(a){var b=this;h.post(this.serviceUrl,{data:{"data[User][id]":a},
handleAs:"json"}).then(function(a){a.error?Sys.message(a.error):(Sys.setUser(""),e.byId(b.redirectTo).refresh(),b.moveTo(b.id,b.redirectTo))},function(a){b.alert(b.errors.err101)})},animate:function(){var c=this;a.contains(this.logoutPane.domNode,"mblHidden")||a.add(this.logoutPane.domNode,"mblHidden");d(".company-logo",this.domNode).forEach(function(b){a.contains(b,"center")||a.add(b,"center")});setTimeout(function(){a.contains(c.logoutPane.domNode,"mblHidden")&&a.remove(c.logoutPane.domNode,"mblHidden");
d(".company-logo",c.domNode).forEach(function(b){a.remove(b,"center")})},this.delay)},destroyDescendants:function(a){this.inherited(arguments)},destroy:function(){this.inherited(arguments)}})});
//@ sourceMappingURL=LogoutView.js.map