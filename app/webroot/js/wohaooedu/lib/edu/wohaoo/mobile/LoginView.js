//>>built
require({cache:{"url:edu/wohaoo/mobile/templates/LoginView.html":'\x3cdiv class\x3d"loginContainer"\x3e\n\t\x3cdiv id\x3d"loginDialog" class\x3d"loginDialog"\x3e\n\t\t\x3cdiv class\x3d"loginHeaderPane"\x3e\n\t\t\t\x3cspan class\x3d"company-logo center"\x3e${logoText}\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv data-dojo-type\x3d"dojox/mobile/ContentPane" class\x3d"loginPane mblHidden" data-dojo-attach-point\x3d"loginPane"\x3e\n\t\t\t\x3cdiv class\x3d"emailInputPane"\x3e\n\t\t\t\t\x3cinput class\x3d\'emailInput\'  type\x3d\'email\'\n\t\t\t\t  data-dojo-props\x3d\'name:"data[User][usr_telephone]", value:"", textDir:"ltr"\'\n\t\t\t\t  placeholder\x3d"${telephoneText}" data-dojo-type\x3d"dojox/mobile/TextBox" data-dojo-attach-point\x3d"telephone"/\x3e\n\t\t\t\x3c/div\x3e \n\t\t\t\x3cdiv class\x3d"passwordInputPane"\x3e\n\t\t\t\t\x3cinput class\x3d\'passwordInput\' placeholder\x3d"${passwordText}" \n\t\t\t\t\t\t\tdata-dojo-props\x3d\'name:"data[User][usr_password]", value:"", textDir:"ltr"\'\n\t\t\t\t\t\t\tdata-dojo-type\x3d"dojox/mobile/TextBox" type\x3d"password" data-dojo-attach-point\x3d"password"/\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"loginButtonPane"\x3e\n\t\t\t\t\x3cbutton  class\x3d\'loginButton\'\n\t\t\t\tdata-dojo-type\x3d"dojox/mobile/Button" data-dojo-attach-point\x3d"loginButton"\x3e${loginText}\x3c/button\x3e\n\t\t\t\x3c/div\x3e \n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e'}});
define("edu/wohaoo/mobile/LoginView","dijit/registry dojo/dom-class dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/parser dojo/dom dojo/dom-geometry dojo/dom-construct dojo/request dojo/query!css3 dojo/dom-style dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/LoginView.html dojo/i18n!./nls/LoginView edu/wohaoo/mobile/_AppViewMixin dojox/mobile/ScrollableView dojox/mobile/ContentPane dojox/mobile/Button dojox/mobile/TextBox dojo/domReady!".split(" "),
function(g,a,h,s,t,k,u,v,w,x,l,e,y,z,A,m,n,p,d,q,r){return k([r,q,m,n],{templateString:p,telephoneText:d.telephone,passwordText:d.password,logoText:__t("WOHAOO Education"),loginText:d.login,delay:1500,redirectTo:"",loginPane:null,telephone:null,password:null,loginButton:null,postCreate:function(){this.inherited(arguments);var b=this;h(this.loginButton.domNode,"click",function(f){var c=b.telephone.get("value"),a=b.password.get("value");b.__doLogin(c,a);f.stopPropagation();f.preventDefault()})},startup:function(){this.inherited(arguments)},
__doLogin:function(b,a){var c=this;l.post(this.serviceUrl,{data:{"data[User][usr_telephone]":b,"data[User][usr_password]":a},handleAs:"json"}).then(function(a){a.userid?(Sys.setUser(a.userid),g.byId(c.redirectTo).refresh(),c.moveTo(c.id,c.redirectTo)):Sys.message(a.error)},function(a){c.alert(c.errors.err101)})},animate:function(){var b=this;a.contains(this.loginPane.domNode,"mblHidden")||a.add(this.loginPane.domNode,"mblHidden");e(".company-logo",this.domNode).forEach(function(b){a.contains(b,"center")||
a.add(b,"center")});setTimeout(function(){a.contains(b.loginPane.domNode,"mblHidden")&&a.remove(b.loginPane.domNode,"mblHidden");e(".company-logo",b.domNode).forEach(function(b){a.remove(b,"center")})},this.delay)},destroyDescendants:function(a){this.inherited(arguments)},destroy:function(){this.inherited(arguments)}})});
//@ sourceMappingURL=LoginView.js.map