//>>built
define("edu/wohaoo/mobile/ItemPageView","dojo/query!css3 dojo/_base/connect dojo/on dojo/_base/declare dojox/mobile/ScrollableView dijit/_WidgetBase dojo/dom-construct edu/wohaoo/mobile/_AppViewMixin dijit/registry dojo/data/ItemFileReadStore dojo/domReady!".split(" "),function(e,n,p,h,k,q,r,l,s,m){return h([k,l],{headerNode:null,itemHeaderTemplateString:'\x3cimg width\x3d32 height\x3d32 src\x3d"${icon}" alt\x3d"${name}" class\x3d"headerImage pull-left" /\x3e\x3cdiv class\x3d"headerDetails"\x3e\x3cdiv class\x3d"name"\x3e${short_name}\x3c/div\x3e\x3c/div\x3e',
dataUrl:null,itemModel:"",itemPrefix:"",postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},hideItems:function(){e("."+this.itemClass,this.domNode).forEach(function(a){a.style.display="none"})},refresh:function(){this.inherited(arguments);if(this.dataId){var a=this;this.query={id:this.itemPrefix+this.dataId.toString()};e(".header",this.domNode).forEach(function(b){a.headerNode=b});this.dataUrl="function"===typeof this.serviceUrl?this.serviceUrl.call(this):
this.substitute(this.serviceUrl,this);null!==this.dataUrl&&(this.processDataParams(),(this._store=new m({url:this.dataUrl,hierarchical:!0}))&&!(null===this._store||null===this.itemHeaderTemplateString||""===this.itemHeaderTemplateString)&&this._store.fetch({query:this.query,queryOptions:{deep:!1},onComplete:function(b){for(var e in b){var c=b[e],d=a._store.getValue(c,"icon");if(d&&-1===d.indexOf("://")){var f=Sys.getHttpScheme(),g=Sys.getHttpHost();f&&g&&(d=f+"://"+g+d)}c.icon=d;a.headerNode.innerHTML=
a.substitute(a.itemHeaderTemplateString,c);a.itemName=a._store.getValue(c,"name");a.itemModel=a._store.getValue(c,"model")}},onError:function(b){a.alert(a.errors.err102)}}))}}})});
//@ sourceMappingURL=ItemPageView.js.map